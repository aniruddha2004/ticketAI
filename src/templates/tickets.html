{% extends 'base.html' %}

{% block content %}
<div class="tickets-container">
    <div class="tickets-header">
        <h1><i class="fas fa-clipboard-list"></i> Ticket Management</h1>
        
        <div class="filter-controls">
            <label for="status-filter">Filter by Status:</label>
            <select id="status-filter" class="form-select form-select-sm">
                <option value="">All Tickets</option>
                <option value="open">Open</option>
                <option value="in_progress">In Progress</option>
                <option value="resolved">Resolved</option>
                <option value="closed">Closed</option>
            </select>
        </div>
    </div>
    
    <div class="tickets-table-container">
        <table id="tickets-table" class="tickets-table">
            <thead>
                <tr>
                    <th>ID</th>
                    <th>Title</th>
                    <th>Category</th>
                    <th>Created</th>
                    <th>Status</th>
                    <th>Priority</th>
                    <th>Actions</th>
                </tr>
            </thead>
            <tbody id="tickets-table-body">
                <!-- Ticket rows will be added dynamically via JavaScript -->
                <tr>
                    <td colspan="7" class="text-center">Loading tickets...</td>
                </tr>
            </tbody>
        </table>
    </div>
</div>

<!-- Ticket Details Modal -->
<div id="ticket-modal" class="modal">
    <div class="modal-content">
        <div class="modal-header">
            <h2 id="ticket-modal-title">Ticket Details</h2>
            <span id="ticket-modal-close" class="modal-close">&times;</span>
        </div>
        <div class="modal-body">
            <div id="ticket-modal-content">
                <!-- Ticket details will be loaded here -->
            </div>
            
            <!-- <div id="ticket-modal-messages" class="mt-4"> -->
                <!-- Ticket messages will be loaded here -->
            <!-- </div> -->
            
            <!-- <div class="mt-4">
                <h5>Reply to Ticket:</h5>
                <form id="ticket-modal-form">
                    <div class="form-group">
                        <textarea id="ticket-reply-input" class="form-control" rows="3" placeholder="Type your reply here..."></textarea>
                    </div>
                    <button type="submit" class="btn btn-primary mt-2">Send Reply</button>
                </form>
            </div> -->
        </div>
    </div>
</div>
{% endblock %}

{% block extra_js %}
<script src="{{ url_for('static', filename='js/tickets.js') }}"></script>
{% endblock %}
